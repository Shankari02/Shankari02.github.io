<!doctype html><html data-enable-theme-switch="true" data-use-system-theme="false" data-default-theme="light" data-current="post" lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>My Internship Experience at IITB</title><meta name="description" content="Get to know me through my personal blogs!"><link rel="dns-prefetch" href="https://identity.netlify.com"><script async src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="stylesheet" href="/assets/css/main.css"><script>// Initialize theme
    // Must run before page rendering to prevent flash
    const themeConfig = document.documentElement.dataset;
    const theme = localStorage.getItem('theme');

    if (theme) {
      themeConfig.theme = theme;
    } else {
      const defaultTheme = themeConfig.defaultTheme;
      const useSystemTheme = themeConfig.useSystemTheme === 'true';
      const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;

      themeConfig.theme = (useSystemTheme && prefersDark) ? 'dark' : defaultTheme;
    }</script><script defer="defer" src="/assets/js/main.bundle.js"></script></head><body><div class="wrapper-bg-wrapper"><div class="wrapper-bg"></div></div><header class="site-header"><div class="site-header__container"><span class="site-header__logo-container"><a class="site-header__logo" href="/" aria-label="Logo"> <?xml version="1.0" encoding="iso-8859-1"?> <!doctype html> <svg fill="#000000" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="800px" height="800px" viewBox="0 0 495.398 495.398" xml:space="preserve"><g><g><g><path d="M487.083,225.514l-75.08-75.08V63.704c0-15.682-12.708-28.391-28.413-28.391c-15.669,0-28.377,12.709-28.377,28.391
				v29.941L299.31,37.74c-27.639-27.624-75.694-27.575-103.27,0.05L8.312,225.514c-11.082,11.104-11.082,29.071,0,40.158
				c11.087,11.101,29.089,11.101,40.172,0l187.71-187.729c6.115-6.083,16.893-6.083,22.976-0.018l187.742,187.747
				c5.567,5.551,12.825,8.312,20.081,8.312c7.271,0,14.541-2.764,20.091-8.312C498.17,254.586,498.17,236.619,487.083,225.514z"/><path d="M257.561,131.836c-5.454-5.451-14.285-5.451-19.723,0L72.712,296.913c-2.607,2.606-4.085,6.164-4.085,9.877v120.401
				c0,28.253,22.908,51.16,51.16,51.16h81.754v-126.61h92.299v126.61h81.755c28.251,0,51.159-22.907,51.159-51.159V306.79
				c0-3.713-1.465-7.271-4.085-9.877L257.561,131.836z"/></g></g></g></svg> </a></span><button class="site-header__mobile-nav" data-drawer-trigger="" aria-controls="drawer-name" aria-expanded="false"><span class="site-header__mobile-nav-label">Menu</span> <svg width="226" height="187" viewBox="0 0 226 187" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0 0H225.311V22.8494H0V0Z" fill="currentColor"/><path d="M0 81.872H225.311V104.721H0V81.872Z" fill="currentColor"/><path d="M0 163.744H225.311V186.593H0V163.744Z" fill="currentColor"/></svg></button><nav class="site-header__nav"><ul class="site-header__items"><li class="site-header__item"><a class="site-header__link" href="/about/">About</a></li><li class="site-header__item"><a class="site-header__link" href="/blog/">Blog</a></li><li class="site-header__item"><a class="site-header__link" href="/projects/">Projects</a></li><li class="site-header__item"><button class="site-header__link site-header__link--theme-switch" data-theme-switch><svg width="19" height="19" viewBox="0 0 19 19" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 14C7.01472 14 5 11.9853 5 9.5C5 7.01472 7.01472 5 9.5 5C11.9853 5 14 7.01472 14 9.5C14 11.9853 11.9853 14 9.5 14ZM9.5 13C11.433 13 13 11.433 13 9.5C13 7.567 11.433 6 9.5 6C7.567 6 6 7.567 6 9.5C6 11.433 7.567 13 9.5 13ZM10 3H9V0H10V3ZM14.4497 5.25736L13.7426 4.55025L15.864 2.42893L16.5711 3.13604L14.4497 5.25736ZM16 10V9H19V10H16ZM13.7426 14.4497L14.4497 13.7426L16.5711 15.864L15.864 16.5711L13.7426 14.4497ZM9 16H10V19H9V16ZM4.55025 13.7426L5.25736 14.4497L3.13604 16.5711L2.42893 15.864L4.55025 13.7426ZM3 9V10H0V9H3ZM5.25736 4.55025L4.55025 5.25736L2.42893 3.13604L3.13604 2.42893L5.25736 4.55025Z" fill="currentColor"/></svg></button></li></ul></nav></div></header><section class="drawer" id="drawer-name" data-drawer-target><div class="drawer__overlay" data-drawer-close tabindex="-1"></div><div class="drawer__wrapper"><div class="drawer__header"><button class="drawer__close" data-drawer-close aria-label="Close Drawer"><svg width="45" height="45" viewBox="0 0 45 45" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M0 3.84294L3.84294 0L22.4996 18.7131L41.2127 0L45 3.84294L26.3425 22.4996L45 41.2127L41.2127 45L22.4996 26.3425L3.84294 45L0 41.2127L18.7131 22.4996L0 3.84294Z" fill="currentColor"/></svg></button></div><div class="drawer__content"><ul class="drawer__nav"><li class="drawer__nav-item"><a href="/">Home</a></li><li class="drawer__nav-item"><a href="/about/">About</a></li><li class="drawer__nav-item"><a href="/blog/">Blog</a></li><li class="drawer__nav-item"><a href="/projects/">Projects</a></li></ul></div></div></section><main><div class="page-container"><article><h1>My Internship Experience at IITB</h1><p><time datetime="2025-07-18">18 July 2025</time></p><hr><h3 id="i-tried-sending-music-over-rf...-and-it-was-pure-chaos-(at-first)" tabindex="-1"><a class="header-anchor" href="#i-tried-sending-music-over-rf...-and-it-was-pure-chaos-(at-first)">#</a> I Tried Sending Music Over RF... and It Was Pure Chaos (at First)</h3><p>This internship project turned out to be way more than I expected. When I started, the goal sounded simple: take a music file, transmit it using an FPGA and SDR setup, and receive it wirelessly. Easy, right?</p><p><em>Nope. Not even close.</em></p><h4 id="the-plan-(in-my-head)" tabindex="-1"><a class="header-anchor" href="#the-plan-(in-my-head)">#</a> The Plan (in My Head)</h4><p>The idea was:</p><ol><li>Use GNU Radio to take a .wav audio file.</li><li>Convert it to I/Q samples (interleaved).</li><li>Send it over UART at 1 Mbps to an FPGA (MAX 10).</li><li>Use the FPGA to drive analog outputs for I and Q using R-2R DACs.</li><li>Feed that into an IQ modulator board sitting at around 1.121252 GHz.</li><li>Receive it all with an RTL-SDR dongle.</li><li>Demodulate and recover the original audio.</li></ol><p>Sounds logical. Looked nice on paper. But in reality? 😂</p><p>The First Steps: Getting started with an FPGA<br>I had never worked with an FPGA previously so first thing was to install the required software, undoubtedly Quartus (I have seen my college mates working with it so was all cool😌).<br>So once everything was set up, I thought of flashing a basic inverter code just to verify everything was working fine. That's when I got to know that Quartus won't recognize the hardware cable attached. I went on to find out a solution and I was introduced to UrJTAG. (I was familiar with JTAG, but what is UrJTAG?)</p><p><a href="https://urjtag.sourceforge.io/book/_jtag_commands.html">UrJTAG</a> is a free, open-source command-line tool for communicating with devices over JTAG, offering enhanced features for interacting with flash chips, CPUs, and more.<br>I had to generate an svf file of my verilog code and then flash it through UART.</p><p>The Second Step: Write a UART receiver code for FPGA and a python script with sampled values for transmission<br>This stage was pretty easy as I had a bit of experience with Verilog. But yes, I learnt about FSMs(Finite State Machines) to optimize the code flow. Once the code was ready, I could see LEDs blinking as values were sent through Python script. But yes, I had to optimize the baud rate and delay to get higher frequencies at the output. I used a R-2R ladder at the FPGA output to get analog signals. Here's the output:<br><picture><source type="image/webp" srcset="/assets/img/yyFuhjFqzJ-250.webp 250w, /assets/img/yyFuhjFqzJ-316.webp 316w, /assets/img/yyFuhjFqzJ-426.webp 426w, /assets/img/yyFuhjFqzJ-460.webp 460w, /assets/img/yyFuhjFqzJ-500.webp 500w, /assets/img/yyFuhjFqzJ-580.webp 580w, /assets/img/yyFuhjFqzJ-632.webp 632w, /assets/img/yyFuhjFqzJ-768.webp 768w, /assets/img/yyFuhjFqzJ-852.webp 852w, /assets/img/yyFuhjFqzJ-920.webp 920w, /assets/img/yyFuhjFqzJ-1160.webp 1160w" sizes="(max-width: 768px) 100vw, 768px"><img alt="" loading="lazy" decoding="async" src="/assets/img/yyFuhjFqzJ-250.jpeg" width="1160" height="762" srcset="/assets/img/yyFuhjFqzJ-250.jpeg 250w, /assets/img/yyFuhjFqzJ-316.jpeg 316w, /assets/img/yyFuhjFqzJ-426.jpeg 426w, /assets/img/yyFuhjFqzJ-460.jpeg 460w, /assets/img/yyFuhjFqzJ-500.jpeg 500w, /assets/img/yyFuhjFqzJ-580.jpeg 580w, /assets/img/yyFuhjFqzJ-632.jpeg 632w, /assets/img/yyFuhjFqzJ-768.jpeg 768w, /assets/img/yyFuhjFqzJ-852.jpeg 852w, /assets/img/yyFuhjFqzJ-920.jpeg 920w, /assets/img/yyFuhjFqzJ-1160.jpeg 1160w" sizes="(max-width: 768px) 100vw, 768px"></picture></p><p>The Third Step: Generating samples through GNU Radio<br>GNU Radio is a software development toolkit that provides signal processing blocks to implement software-defined radios and signal processing systems. I spent sometime navigating though the available blocks and then made the first flowgraph. GNU Radio allows adding custom python blocks so I just had to write a similar python code for tranmission. The only difference was the generation of the signal (comparing it with the previous stage). This was the flowgraph:<br><picture><source type="image/webp" srcset="/assets/img/TPYwb0PQCJ-250.webp 250w, /assets/img/TPYwb0PQCJ-316.webp 316w, /assets/img/TPYwb0PQCJ-426.webp 426w, /assets/img/TPYwb0PQCJ-460.webp 460w, /assets/img/TPYwb0PQCJ-500.webp 500w, /assets/img/TPYwb0PQCJ-580.webp 580w, /assets/img/TPYwb0PQCJ-632.webp 632w, /assets/img/TPYwb0PQCJ-768.webp 768w, /assets/img/TPYwb0PQCJ-852.webp 852w, /assets/img/TPYwb0PQCJ-920.webp 920w" sizes="(max-width: 768px) 100vw, 768px"><img alt="" loading="lazy" decoding="async" src="/assets/img/TPYwb0PQCJ-250.jpeg" width="920" height="315" srcset="/assets/img/TPYwb0PQCJ-250.jpeg 250w, /assets/img/TPYwb0PQCJ-316.jpeg 316w, /assets/img/TPYwb0PQCJ-426.jpeg 426w, /assets/img/TPYwb0PQCJ-460.jpeg 460w, /assets/img/TPYwb0PQCJ-500.jpeg 500w, /assets/img/TPYwb0PQCJ-580.jpeg 580w, /assets/img/TPYwb0PQCJ-632.jpeg 632w, /assets/img/TPYwb0PQCJ-768.jpeg 768w, /assets/img/TPYwb0PQCJ-852.jpeg 852w, /assets/img/TPYwb0PQCJ-920.jpeg 920w" sizes="(max-width: 768px) 100vw, 768px"></picture><br>I have used a Hilbert Transform block as I had to generate I/Q signals so required a 90 degree phase shift. I also tried transmitting a audio file. The flowgraph is mostly the same, just the generation is through a .wav file. I converted an .mp3 to .wav using ffmpeg, quite simple.<br><picture><source type="image/webp" srcset="/assets/img/P0ydY8_tZx-250.webp 250w, /assets/img/P0ydY8_tZx-316.webp 316w, /assets/img/P0ydY8_tZx-426.webp 426w, /assets/img/P0ydY8_tZx-460.webp 460w, /assets/img/P0ydY8_tZx-500.webp 500w, /assets/img/P0ydY8_tZx-580.webp 580w, /assets/img/P0ydY8_tZx-632.webp 632w, /assets/img/P0ydY8_tZx-768.webp 768w, /assets/img/P0ydY8_tZx-852.webp 852w, /assets/img/P0ydY8_tZx-920.webp 920w" sizes="(max-width: 768px) 100vw, 768px"><img alt="" loading="lazy" decoding="async" src="/assets/img/P0ydY8_tZx-250.jpeg" width="920" height="330" srcset="/assets/img/P0ydY8_tZx-250.jpeg 250w, /assets/img/P0ydY8_tZx-316.jpeg 316w, /assets/img/P0ydY8_tZx-426.jpeg 426w, /assets/img/P0ydY8_tZx-460.jpeg 460w, /assets/img/P0ydY8_tZx-500.jpeg 500w, /assets/img/P0ydY8_tZx-580.jpeg 580w, /assets/img/P0ydY8_tZx-632.jpeg 632w, /assets/img/P0ydY8_tZx-768.jpeg 768w, /assets/img/P0ydY8_tZx-852.jpeg 852w, /assets/img/P0ydY8_tZx-920.jpeg 920w" sizes="(max-width: 768px) 100vw, 768px"></picture></p><p>I observed the outputs on a DSO as well as by connecting speakers at the DAC output.</p><p>The Fourth Step: Receiving it through RTL-SDR and observing it on GNU Radio<br>Transmission was all fine but reception, not at all!</p><p>The Noise Begins<br>I spent days wondering why the output audio sounded like TV static from the 90s. Was it baud rate mismatch? Was UART too slow? Was I sending the samples wrong? Or maybe the issue was in the receive path - wrong center frequency, wrong gain, bad filtering?</p><p>Spoiler: it was all of the above.</p><p>It turned out that when I sent a single tone - say, a 1 kHz sine wave, everything worked fine. I could hear it on the output after demodulation. But real music (which is a mix of thousands of frequencies) completely broke the system.</p><h4 id="the-real-troubleshooting" tabindex="-1"><a class="header-anchor" href="#the-real-troubleshooting">#</a> The Real Troubleshooting</h4><p>So I began debugging everything:</p><p>UART bitrate: I set it to 88200 baud to match my 44.1 kHz audio, since each sample had 2 bytes (I and Q interleaved).</p><p>Filtering: I added band-pass filters on both ends, before modulation and after demodulation, to keep only the relevant audio band.</p><p>Gain: I kept fiddling with RF, IF, and baseband gain on the RTL-SDR until it stopped clipping.</p><p>Resampling: The most annoying part. I had to match the GNU Radio and FPGA timings so that I don’t flood the UART or underflow it. It took a LOT of tweaking.</p><p>A Few Wins<br>There were moments where things just clicked. Hearing that first tone come back kind of audible felt great.</p><h4 id="final-thoughts" tabindex="-1"><a class="header-anchor" href="#final-thoughts">#</a> Final Thoughts</h4><p>I started off thinking this was going to be a small summer project. It ended up being a full deep dive into DSP, SDRs, FPGAs, UART bottlenecks and just general signal chaos. There’s still a long way to go - cleaner audio, real-time streaming, stereo support maybe - but I’m happy of what I managed to get working.</p><p>I owe a deep gratitude to Prof. Siddharth Tallur who gave me an opportunity to work on this project which helped me gain fruitful knowledge in digital signal processing and Verilog HDL.</p><ul><li><a href="https://github.com/Shankari02/Signal-transmission-through-UART-and-IQ-Modulation">Github Repository</a></li></ul><p class="tag-list"><a class="tag" href="/tags/internship/" rel="tag">internship</a> <a class="tag" href="/tags/verilog-hdl/" rel="tag">verilog-hdl</a> <a class="tag" href="/tags/signal processing/" rel="tag">signal processing</a></p></article><nav><a href="/blog/">← View All Articles</a></nav></div></main><footer class="site-footer"><small><a href="https://github.com/Shankari02" target="_blank" aria-label="GitHub"><img src="/assets/img/github.svg" alt="GitHub"> </a><a href="https://linkedin.com/in/shankari-anand" target="_blank" aria-label="LinkedIn"><img src="/assets/img/linkedin.svg" alt="LinkedIn"> </a><a href="mailto:shankari.anand618@gmail.com" target="_blank" aria-label="Twitter"><img src="/assets/img/mail.svg" alt="Email"></a></small></footer><script data-goatcounter="https://letscount.goatcounter.com/count" async src="//gc.zgo.at/count.js"></script></body></html>